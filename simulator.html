<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ì´ˆêµ¬ ì‹œë®¬ë ˆì´í„° & ê²½í—˜ì¹˜ ê³„ì‚°ê¸°</title>
<link rel="shortcut icon" href="#">
<style>
  /* CSS ë³€ìˆ˜: ë†’ì´ í†µì¼ ê¸°ì¤€ */
  :root {
    --input-padding-y: 9px;
    --button-padding-y: 10px;
    --border-width: 1px;
    /* í°íŠ¸ í¬ê¸° 15px ê¸°ì¤€, ì´ ë†’ì´ ì•½ 41pxë¡œ í†µì¼ */
  }

  body {background:#0b1426;color:#eaf2ff;font-family:"Pretendard",sans-serif;margin:0;padding:24px;text-align:center;}
  h1 {color:#ffd447;margin-bottom:20px;}
  
  /* [ì¶”ê°€] ì œëª© ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
  .title-icon {
    height: 30px; 
    vertical-align: middle;
    margin-right: 8px;
  }

  .tab-buttons{display:flex;justify-content:center;gap:10px;margin-bottom:20px;}
  .tab-buttons button{background:rgba(15,25,45,0.9);border:1px solid #ffd447;color:#ffd447;font-weight:700;border-radius:10px;padding:10px 20px;cursor:pointer;transition:all .2s ease;}
  .tab-buttons button.active{background:#ffd447;color:#111;}
  .tab-content{display:none;}
  .tab-content.active{display:block;}
  
  /* ì „ì—­ input ìŠ¤íƒ€ì¼ (ë‹¤ë¥¸ inputì—ëŠ” ì—¬ì „íˆ ì ìš©ë¨) */
  input{background:rgba(15,25,45,0.9);color:#fff;border:1px solid #3ba4f7;padding:10px 14px;border-radius:8px;width:260px;margin-bottom:10px;}
  
  /* ì „ì—­ button ìŠ¤íƒ€ì¼ */
  button{background:#ffd447;color:#111;font-weight:700;border:none;border-radius:8px;padding:10px 14px;cursor:pointer;margin:4px;transition:all .2s ease;}
  button:hover{filter:brightness(1.1);}
  
  /* ê²€ìƒ‰ì°½ ê·¸ë£¹ ìŠ¤íƒ€ì¼ */
  .search-group {
    display: flex; /* Grid ëŒ€ì‹  Flexë¥¼ ì‚¬ìš©í•˜ì—¬ ë‚´ë¶€ ì •ë ¬ ìœ ì§€ */
    justify-content: center;
    align-items: center; /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
    gap: 8px;
    flex-wrap: wrap;
  }

  /* ê²€ìƒ‰ ì¸í’‹ í•„ë“œ */
  #petName {
    /* ê¸°ì¡´ ì „ì—­ ìŠ¤íƒ€ì¼ ì¬ì •ì˜ */
    padding: 10px 10px; /* ê¸°ì¡´ var(--input-padding-y) ëŒ€ì‹  10pxë¡œ ìˆ˜ì • (ë²„íŠ¼ê³¼ ë†’ì´ í†µì¼) */ 
    font-size: 15px;
    border: var(--border-width) solid #3ba4f7;
    border-radius: 8px;
    background: #1e2b40;
    color: #fff;
    box-sizing: border-box; /* íŒ¨ë”©ê³¼ í…Œë‘ë¦¬ë¥¼ ë„ˆë¹„ì— í¬í•¨ */
    width: 260px;
    /* height: ì œê±° */
    margin-bottom: 0 !important; /* ì»¨í…Œì´ë„ˆê°€ ì •ë ¬ì„ ë§¡ìœ¼ë¯€ë¡œ ë§ˆì§„ ì œê±° */
  }

  /* ê²€ìƒ‰ ë²„íŠ¼ */
  #btnSearch {
    /* ê¸°ì¡´ ì „ì—­ ìŠ¤íƒ€ì¼ ì¬ì •ì˜ */
    padding: var(--button-padding-y) 14px;
    background: #3ba4f7;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    /* height: ì œê±° */
    margin: 0 !important; /* ì»¨í…Œì´ë„ˆê°€ ì •ë ¬ì„ ë§¡ìœ¼ë¯€ë¡œ ë§ˆì§„ ì œê±° */
  }
  
  .panel{margin-top:10px;background:rgba(15,25,45,0.9);border:1px solid #24324b;border-radius:10px;padding:10px;}
  /* .result í´ë˜ìŠ¤ì— display: none; ì¶”ê°€í•˜ì—¬ ì²˜ìŒì—ëŠ” ìˆ¨ê¹€ */
  .result{
    margin-top:15px;
    white-space:pre-line;
    text-align:left;
    display:none; /* ì´ˆê¸° ìˆ¨ê¹€ */
    background:rgba(15,25,45,0.85);
    border-radius:10px;
    padding:14px;
    border:1px solid #24324b;
    font-family:"JetBrains Mono",monospace;
  }
  #costDisplay{margin-top:10px;color:#ffd447;font-weight:700;}
  .plus{color:#ff6b81;font-weight:700;}
  .minus{color:#3ba4f7;font-weight:700;}
  .zero{color:#a9b5cc;}
  /* ê²½í—˜ì¹˜ ê³„ì‚°ê¸° */
  .wrapper{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:20px;max-width:900px;margin:auto;}
  .card{background:rgba(20,30,50,0.9);border:1px solid #24324b;border-radius:16px;padding:24px;box-shadow:0 0 12px rgba(25,60,100,.25);}
  label{color:#a9b5cc;font-weight:600;}
  .row{display:grid;gap:6px;margin:10px 0;}
  input[type="number"]{width:100%;padding:10px 12px;border:1px solid #3ba4f7;border-radius:10px;background:rgba(15,25,45,0.85);color:#fff;outline:none;font-size:15px;}
  .row.buttons{display:flex;justify-content:space-between;gap:10px;margin-top:12px;}
  .row.buttons button{flex:1;width:48%;padding:10px 0;border-radius:8px;font-weight:700;}
  .results{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:18px;}
  .stat{background:rgba(15,25,45,0.9);border:1px solid #24324b;border-radius:14px;padding:12px;text-align:center;}
  .stat small{display:block;color:#a9b5cc;}
  .stat strong{display:block;margin-top:4px;font-size:16px;color:#ffd447;}
  #visitCounter{margin-top:30px;font-weight:600;color:#ffd447;}
</style>
</head>
<body>
<h1><img src="https://raw.githubusercontent.com/potg123/potg123.github.io/main/reset.png" class="title-icon" alt="ì´ˆê¸°í™” ì•„ì´ì½˜" />ì´ˆêµ¬ ì‹œë®¬ë ˆì´í„° & ê²½í—˜ì¹˜ ê³„ì‚°ê¸°</h1>

<div class="tab-buttons">
  <button id="tabSim" class="active">ğŸ¾ ì´ˆêµ¬ ì‹œë®¬ë ˆì´í„°</button>
  <button id="tabExp">ğŸ“˜ ê²½í—˜ì¹˜ ê³„ì‚°ê¸°</button>
  <button id="tabHome" onclick="location.href='index.html'">ğŸ  ë©”ì¸ìœ¼ë¡œ</button>
</div>

<div id="simTab" class="tab-content active">
  <div class="search-group">
    <input id="petName" placeholder="ğŸ” í˜íŠ¸ ì´ë¦„ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”." />
    <button id="btnSearch">ê²€ìƒ‰</button>
  </div>
  <div id="suggestions" style="margin-top:8px;"></div>
  <div id="sgrade" class="panel">í˜íŠ¸ë¥¼ ì…ë ¥í•˜ë©´ Sê¸‰ ê¸°ì¤€ ëŠ¥ë ¥ì¹˜ê°€ í‘œì‹œë©ë‹ˆë‹¤.</div>
  <div style="margin-top:10px;">
    <button id="sim1">ğŸ² ì´ˆê¸°í™” 1íšŒ</button>
    <button id="sim5">ğŸ² ì´ˆê¸°í™” 5íšŒ</button>
    <button id="clear">ğŸ§¹ ê²°ê³¼ ì§€ìš°ê¸°</button>
  </div>
  <div id="costDisplay">ğŸ’° ì´ ì†Œëª¨: 0ì›</div>
  <div id="result" class="result"></div>
</div>

<div id="expTab" class="tab-content">
  <div class="wrapper">
    <div class="card">
      <h2>ğŸ“˜ ë ˆë²¨ì—… ê²½í—˜ì¹˜ ê³„ì‚°ê¸°</h2>
      <div class="row"><label for="currentLevel">í˜„ì¬ ë ˆë²¨</label><input id="currentLevel" type="number" /></div>
      <div class="row"><label for="currentPercent">í˜„ì¬ ì§„í–‰ë„(%)</label><input id="currentPercent" type="number" placeholder="ì˜ˆ: 45" /></div>
      <div class="row"><label for="targetLevel">ëª©í‘œ ë ˆë²¨</label><input id="targetLevel" type="number" /></div>
      <div class="row"><label for="xpPerHour">ì‹œê°„ë‹¹ íšë“ ê²½í—˜ì¹˜</label><input id="xpPerHour" type="number" /></div>
      <div class="row buttons">
        <button id="run">ê³„ì‚°</button>
        <button id="reset">ì´ˆê¸°í™”</button>
      </div>
      <div class="results" id="results" hidden>
        <div class="stat"><small>ë‚¨ì€ ê²½í—˜ì¹˜</small><strong id="statRemain">-</strong></div>
        <div class="stat"><small>ì˜ˆìƒ ì‹œê°„</small><strong id="statHours">-</strong></div>
        <div class="stat"><small>ì˜ˆìƒ ì¼ìˆ˜</small><strong id="statDays">-</strong></div>
      </div>
    </div>
  </div>
</div>

<div id="visitCounter">ë°©ë¬¸ì ìˆ˜ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const today = new Date();
  const dateKey = `${today.getFullYear()}_${today.getMonth()+1}_${today.getDate()}`;
  
  const pageKey = window.location.pathname === "/"
    ? `home_${dateKey}`
    : window.location.pathname.replace(/\W+/g, "_") + `_${dateKey}`;

  // ë°©ë¬¸ì ì¹´ìš´í„°ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€
  fetch(`https://page-counter.dorangs30.workers.dev/hit/${pageKey}`)
    .then(res => res.json())
    .then(d => {
      document.getElementById("visitCounter").textContent =
        `ğŸ‘‹ ì˜¤ëŠ˜ ë°©ë¬¸ì ìˆ˜ : ${d.value?.toLocaleString() ?? "0"}ëª…`;
    })
    .catch(err => {
      console.error("ë°©ë¬¸ì ì¹´ìš´í„° ì—ëŸ¬:", err);
      document.getElementById("visitCounter").textContent = "ë°©ë¬¸ì ìˆ˜ ë¡œë“œ ì‹¤íŒ¨ ğŸ˜¢";
    });

  /* âœ… íƒ­ ì „í™˜ */
  const showTab = id => {
    document.querySelectorAll(".tab-content").forEach(t=>t.classList.remove("active"));
    document.querySelectorAll(".tab-buttons button").forEach(b=>b.classList.remove("active"));
    document.getElementById(id).classList.add("active");
    document.getElementById(id==="simTab"?"tabSim":"tabExp").classList.add("active");
  };
  tabSim.onclick=()=>showTab("simTab");
  tabExp.onclick=()=>showTab("expTab");

  /* âœ… í« ë°ì´í„° ë¡œë“œ (ê¹ƒí—ˆë¸Œ Pages ìë™ ê²½ë¡œ) */
  async function loadPetData(){
    const base = `${window.location.origin}/data/`; 
    // ê²½ë¡œ ë¬¸ì œë¡œ ì¸í•´ ë¡œë“œê°€ ì•ˆ ë  ê²½ìš°, ì´ ë¶€ë¶„ì„ ìœ„ì—ì„œ ì œì•ˆí•œ GitHub URLë¡œ ì„ì‹œ ë³€ê²½í•˜ì—¬ ì‹œë„í•´ ë³´ì„¸ìš”.
    // ì˜ˆì‹œ: const base = `https://raw.githubusercontent.com/potg123/potg123.github.io/main/data/`;
    try{
      const pets = await fetch(base + "pets.json").then(r => r.json());
      console.log("âœ… JSON ë¡œë“œ ì™„ë£Œ:", Object.keys(pets).length);
      return pets;
    }catch(e){
      console.error("âŒ JSON ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:",e);
      alert("í« ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.\n/data/pets.json ìœ„ì¹˜ë¥¼ í™•ì¸í•˜ì„¸ìš”. (ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ CORS/Fetch ì˜¤ë¥˜ í™•ì¸)");
      return {pets:[],spet:[]};
    }
  }

  let PETS = {}, currentBase = null;
  const sgradeBox=document.getElementById("sgrade");
  const nameInput=document.getElementById("petName");
  const resultBox=document.getElementById("result");
  const costDisplay=document.getElementById("costDisplay");
  let totalCost=0;

  loadPetData().then(d => { PETS = d; });

  const safeName = s => (s || "").toLowerCase().trim();
  nameInput.onkeydown = e => { if(e.key === "Enter") updatePet(); };
  btnSearch.onclick = updatePet;
  nameInput.onchange = updatePet;

  function updatePet() {
    const n = safeName(nameInput.value);
    const sugBox = document.getElementById("suggestions");
    sugBox.innerHTML = ""; // í›„ë³´ì°½ ì´ˆê¸°í™”

    if (!n) return;

    // ì™„ì „ì¼ì¹˜ ë¨¼ì € í™•ì¸
    let key = Object.keys(PETS).find(k => safeName(k) === n);
    if (!key) {
      const partial = Object.keys(PETS).filter(k => safeName(k).includes(n));
      if (partial.length === 1) key = partial[0];
      else if (partial.length > 1) {
        // í›„ë³´ ì—¬ëŸ¬ ê°œë©´ ë²„íŠ¼ ëª©ë¡ í‘œì‹œ
        sugBox.innerHTML = `<div style="color:#3ba4f7;margin-bottom:6px;">ğŸ” ì—¬ëŸ¬ í›„ë³´ (${partial.length}ê°œ):</div>`;
        partial.forEach(k => {
          const btn = document.createElement("button");
          btn.textContent = k;
          btn.style.background = "#24324b";
          btn.style.color = "#ffd447";
          btn.style.margin = "3px";
          btn.style.padding = "6px 12px";
          btn.style.borderRadius = "8px";
          btn.style.border = "1px solid #3ba4f7";
          btn.style.cursor = "pointer";
          btn.onclick = () => {
            nameInput.value = k;
            sugBox.innerHTML = "";
            showPetInfo(k);
          };
          sugBox.appendChild(btn);
        });
        currentBase = null;
        return;
      }
    }

    if (!key) {
      sgradeBox.innerHTML = `<b style="color:#ff6b81">âš ï¸ [${n}] ë°ì´í„° ì—†ìŒ</b>`;
      currentBase = null;
      return;
    }

    showPetInfo(key);
  }

  function showPetInfo(key) {
    const s = PETS[key].s0;
    currentBase = { name: key, hp: s.hp, atk: s.atk, def: s.def, agi: s.agi };
    sgradeBox.innerHTML = `
      <b>${key} Sê¸‰ ê¸°ì¤€</b><br>
      ì²´ë ¥ <b>${s.hp}</b> | ê³µê²©ë ¥ <b>${s.atk}</b> | ë°©ì–´ë ¥ <b>${s.def}</b> | ìˆœë°œë ¥ <b>${s.agi}</b>`;
  }

  function simulate(t=1){
    if(!currentBase){alert("í« ì´ë¦„ì„ ë¨¼ì € ì…ë ¥í•˜ì„¸ìš”.");return;}
    
    // ê²°ê³¼ ì¶œë ¥ ì „, ê²°ê³¼ì°½ì„ ë³´ì´ê²Œ í•©ë‹ˆë‹¤.
    resultBox.style.display = "inline-block"; 

    resultBox.innerHTML="";
    let o=`\n<b>${currentBase.name} ì‹œë®¬ë ˆì´ì…˜</b>\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n`;
  for(let i=1; i<=t; i++){
    const p = PETS[currentBase.name];
    if(!p || !p.u || !p.k){
      o += `<b>${i}íšŒì°¨</b> â†’ âš ï¸ ë°ì´í„° ëˆ„ë½ (u/k ì—†ìŒ)<br>`;
      continue;
    }

    // â‘  ê¸°ë³¸ ì„±ì¥ ê³„ìˆ˜ ë¶ˆëŸ¬ì˜¤ê¸° (ë³µì‚¬)
    const tp = { ...p.u };
    // â‘¡ -2~+2 ëœë¤ ì¶”ê°€
    tp.hp  += Math.floor(Math.random()*5) - 2;
    tp.atk += Math.floor(Math.random()*5) - 2;
    tp.def += Math.floor(Math.random()*5) - 2;
    tp.agi += Math.floor(Math.random()*5) - 2;

    // â‘¢ ì´ 10í¬ì¸íŠ¸ ëœë¤ ë¶„ë°°
    for(let j=0; j<10; j++){
      const r = Math.floor(Math.random()*4);
      if(r===0) tp.hp++;
      else if(r===1) tp.atk++;
      else if(r===2) tp.def++;
      else tp.agi++;
    }

    // â‘£ ì´ˆê¸°ì¹˜ ê³„ì‚° (level 1 â†’ ì•í•­ ì†Œê±°)
    const base = {
      hp: p.k * tp.hp / 100,
      atk: p.k * tp.atk / 100,
      def: p.k * tp.def / 100,
      agi: p.k * tp.agi / 100
    };

    // â‘¤ í‘œê¸° ìŠ¤íƒ¯ ê³„ì‚°
    const shown = {
      hp: Math.floor(base.hp*4 + base.atk + base.def + base.agi),
      atk: Math.floor(base.hp*0.1 + base.atk + base.def*0.1 + base.agi*0.05),
      def: Math.floor(base.hp*0.1 + base.atk*0.1 + base.def + base.agi*0.05),
      agi: Math.floor(base.agi)
    };

    // â‘¥ Sê¸‰ ê¸°ì¤€ê°’ (ì†Œìˆ˜ì  ê·¸ëŒ€ë¡œ í‘œì‹œ)
    const SstatRaw = p.s0 || { hp:0, atk:0, def:0, agi:0 };
    // â‘¦ Â± ê³„ì‚°ìš© Sê¸‰ ê°’ ì •ìˆ˜
    const SstatInt = {
      hp: Math.floor(SstatRaw.hp),
      atk: Math.floor(SstatRaw.atk),
      def: Math.floor(SstatRaw.def),
      agi: Math.floor(SstatRaw.agi)
    };

    // â‘§ Â± ê³„ì‚°
    const delta = {
      hp: shown.hp - SstatInt.hp,
      atk: shown.atk - SstatInt.atk,
      def: shown.def - SstatInt.def,
      agi: shown.agi - SstatInt.agi
    };

    // â‘¨ Â± í‘œì‹œ í•¨ìˆ˜ (ìƒ‰ìƒ ì ìš©, 0ì€ í°ìƒ‰)
    const formatDelta = n => {
      if(n > 0) return `<span style="color:red;">(+${n})</span>`;
      if(n < 0) return `<span style="color:blue;">(${n})</span>`;
      return `<span style="color:white;">(0)</span>`;
    };

    // â‘© ì¶œë ¥ (Sê¸‰ ì†Œìˆ˜ì  ê·¸ëŒ€ë¡œ, ê²°ê³¼ ìŠ¤íƒ¯ê³¼ Â± ì •ìˆ˜)
    o += `<b>${i}íšŒì°¨</b> â†’ `
      + `ì²´ë ¥ <b>${shown.hp}</b> ${formatDelta(delta.hp)} | `
      + `ê³µê²©ë ¥ <b>${shown.atk}</b> ${formatDelta(delta.atk)} | `
      + `ë°©ì–´ë ¥ <b>${shown.def}</b> ${formatDelta(delta.def)} | `
      + `ìˆœë°œë ¥ <b>${shown.agi}</b> ${formatDelta(delta.agi)}<br>`;
  }
  resultBox.innerHTML=o;
}

  sim1.onclick=()=>{simulate(1);totalCost+=1000;costDisplay.textContent=`ğŸ’° ì´ ì†Œëª¨: ${totalCost.toLocaleString()}ì›`;};
  sim5.onclick=()=>{simulate(5);totalCost+=5000;costDisplay.textContent=`ğŸ’° ì´ ì†Œëª¨: ${totalCost.toLocaleString()}ì›`;};
  clear.onclick=()=>{
    resultBox.innerHTML="";
    totalCost=0;
    costDisplay.textContent="ğŸ’° ì´ ì†Œëª¨: 0ì›";
    // ê²°ê³¼ ì§€ìš°ê¸° ì‹œ ê²°ê³¼ì°½ ìˆ¨ê¹€
    resultBox.style.display="none"; 
  };

  /* âœ… ê²½í—˜ì¹˜ ê³„ì‚°ê¸° */
  const $=s=>document.querySelector(s);
  const fmtNum=n=>isFinite(n)?Number(n).toLocaleString():"-";
    const EXP_TABLE={1:2,2:6,3:17,4:37,5:67,6:111,7:169,8:247,9:344,10:464,11:609,12:783,13:985,
  14:1221,15:1491,16:1799,17:2145,18:2535,19:2968,20:3448,21:3977,22:4559,23:5193,24:5885,
  25:6635,26:7447,27:8321,28:9263,29:10272,30:11352,31:12506,32:13734,33:15042,34:16429,
  35:17899,36:19454,37:21098,38:22830,39:24656,40:26576,41:28594,42:30710,43:32930,44:35253,
  45:37683,46:40222,47:42874,48:45638,49:48520,50:51520,51:54642,52:57886,53:61258,54:64757,
  55:68387,56:72150,57:76050,58:80086,59:84264,60:106110,61:113412,62:121149,63:129352,
  64:138044,65:147256,66:157019,67:167366,68:178334,69:189958,70:202282,71:215348,72:229205,
  73:243901,74:259495,75:276041,76:293606,77:312258,78:332071,79:353126,80:375511,81:399318,
  82:424655,83:451631,84:480370,85:511007,86:543686,87:578571,88:616838,89:655680,90:698312,
  91:743970,92:795918,93:842442,94:901869,95:962553,96:1026899,97:1098354,98:1174419,99:1256664,
  100:1407463,101:1576358,102:1765521,103:1977384,104:2214670,105:2480430,106:2778082,107:3111451,
  108:3484825,109:3903005,110:4371365,111:4895929,112:5483440,113:6141453,114:6878428,115:7703839,
  116:8628300,117:9663695,118:10823339,119:12122140,120:13576796,121:15206012,122:17030733,
  123:19074421,124:21363352,125:23926954,126:26798189,127:30013971,128:33615648,129:37649526,
  130:42167469,131:47227565,132:52894873,133:59242257,134:66351328,135:74313488,136:83231106,
  137:93218839,138:104405100,139:116933712};
  const getTotalExp=(s,t)=>{let sum=0;for(let lv=s;lv<t;lv++)if(EXP_TABLE[lv])sum+=EXP_TABLE[lv];return sum;};
  $("#run").onclick=()=>{
    try{
      const c=+$("#currentLevel").value,cp=+($("#currentPercent").value)||0,t=+$("#targetLevel").value,ph=+$("#xpPerHour").value;
      if(!c||!t||!ph)throw new Error("ì…ë ¥ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.");
      if(t<=c)throw new Error("ëª©í‘œ ë ˆë²¨ì€ í˜„ì¬ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤.");
      const rem1=EXP_TABLE[c]*(1-(cp/100)),rem2=getTotalExp(c+1,t),remain=rem1+rem2;
      const hrs=remain/ph,days=hrs/24,h=Math.floor(hrs),m=Math.round((hrs-h)*60);
      $("#statRemain").textContent=fmtNum(remain.toFixed(0));
      $("#statHours").textContent=`${h}ì‹œê°„ ${m}ë¶„`;
      $("#statDays").textContent=days.toFixed(2)+" ì¼";
      $("#results").hidden=false;
    }catch(e){alert(e.message);}
  };
  $("#reset").onclick=()=>{document.querySelectorAll("#expTab input").forEach(i=>i.value="");$("#results").hidden=true;};
});
</script>
</body>
</html>
